(function(exoDynamicParams){var adProviderQ=(window.AdProvider===null)?[]:window.AdProvider;window.AdProvider=(function(){var createRendererFunction=true;var keepHttpResponseAsIs=true;var renderers=[];var currentRequest=0;var placementsBatchesRequests=[];var placementsBatchesResponses=[];var userData=[];var delayedRequests=[];var delayedResponses=[];var sourceTcData=null;var gdpr=null;var loadAdsForTCF=false;var insElementAdByClass='adsby'+exoDynamicParams.network;var stylesheet='{ vertical-align:top; border: 0px solid #000000; display: inline-block; background-color: rgba(0, 0, 0, 0); margin: 0px 0px; padding: 0px 0px; }';var printDebugOnAdd=true;var debugMsgStack=[];var frame=window;var cmpFrame;var cmpCallbacks={};var debug=function(msg){var finalMsg=(new Date()).toISOString()+': '+msg;if(printDebugOnAdd){console.log(finalMsg)}debugMsgStack.push(finalMsg)};var getTCData=function(callback){if(!exoDynamicParams.tcfEnabled){gdpr=getGdprDefault();callback();return}prepareTcfForIframe();if(typeof __tcfapi=='undefined'){gdpr=getGdprDefault();callback();return}var processTCF=function(tcData,success){if(!success){return}var shouldDoCallback=(gdpr===null);sourceTcData=tcData;if(tcData.cmpStatus==='loaded'&&tcData.gdprApplies===false){gdpr=getGdprDefault();if(shouldDoCallback){callback()}__tcfapi('removeEventListener',2,function(){},tcData.listenerId)}if(loadAdsForTCF){gdpr=translateTCDataForAPI(sourceTcData);if(shouldDoCallback){callback()}}else{if(tcData.eventStatus==='tcloaded'||tcData.eventStatus==='useractioncomplete'){gdpr=translateTCDataForAPI(sourceTcData);if(shouldDoCallback){callback()}__tcfapi('removeEventListener',2,function(){},tcData.listenerId)}}};__tcfapi('addEventListener',2,processTCF)};function prepareTcfForIframe(){if(typeof __tcfapi=='undefined'){checkCmpFrameExist();if(!cmpFrame){return}window.__tcfapi=function(cmd,version,callback,arg){const callId=Math.random()+'';const msg={__tcfapiCall:{command:cmd,parameter:arg,version:version,callId:callId,},};cmpCallbacks[callId]=callback;cmpFrame.postMessage(msg,'*')}}}function checkCmpFrameExist(){while(frame){try{if(frame.frames['__tcfapiLocator']){cmpFrame=frame;break}}catch(ignore){console.log("CMP not found.")}if(frame===window.top){break}frame=frame.parent}window.addEventListener('message',postMessageHandler,false)}function postMessageHandler(event){let tcfRet={};try{tcfRet=typeof event.data==='string'?JSON.parse(event.data):event.data}catch(ignore){}const payload=tcfRet.__tcfapiReturn;if(payload){if(typeof cmpCallbacks[payload.callId]==='function'){cmpCallbacks[payload.callId](payload.returnValue,payload.success)}}}var getGdprDefault=function(){return{"gdpr":0}};var translateTCDataForAPI=function(tcData){return{"gdpr":(tcData.gdprApplies)?1:0,"consent":tcData.tcString}};var getRequestsQueue=function(isDelayedRequest){return isDelayedRequest?delayedRequests:placementsBatchesRequests};var getResponsesQueue=function(isDelayedRequest){return isDelayedRequest?delayedResponses:placementsBatchesResponses};var getDebugMessages=function(){return debugMsgStack};var URLToArray=function(url){var request={};var pairs=url.substring(url.indexOf('?')+1).split('&');for(var i=0;i<pairs.length;i++){if(!pairs[i])continue;var pair=pairs[i].split('=');request[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1])}return request};var randStr=function(length,possibleChars){var text='';var possible=possibleChars||'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';for(var i=0;i<length;i++)text+=possible.charAt(Math.floor(Math.random()*possible.length));return text};var createStyle=function(doc,dom_anchor,style_text){var class_name=randStr(1,'abcdefghijklmnopqrstuvwxyz')+randStr(7);style_text='.'+class_name+' '+style_text;var style=doc.createElement('style');style.setAttribute('type','text/css');style.innerHTML=style_text;if(dom_anchor.tagName!=='SCRIPT'||dom_anchor.tagName!=='script'){dom_anchor.appendChild(style)}else{dom_anchor.parentNode.insertBefore(style,dom_anchor)}return class_name};var handleSnippetQueue=function(adProviderQueue){if(!Array.isArray(adProviderQueue)){return}while(adProviderQueue.length>0){push(adProviderQueue.shift())}};var handleInsElements=function(){var nodeList=document.querySelectorAll('ins.'+insElementAdByClass+':not([data-processed=true])');for(var i=0;i<nodeList.length;i++){handleInsElement(nodeList[i])}};var handleInsElement=function(element){var zoneAttributesMap={'data-zoneid':{'apiKey':'id','toApiParser':parseInt},'data-sub':{'apiKey':'sub','toApiParser':parseInt},'data-sub2':{'apiKey':'sub2','toApiParser':parseInt},'data-sub3':{'apiKey':'sub3','toApiParser':parseInt},'data-keywords':{'apiKey':'keywords'}};var zone={};for(var key in zoneAttributesMap){if(element.hasAttribute(key)){var mapToApi=zoneAttributesMap[key];var value=element.getAttribute(key);if(mapToApi.hasOwnProperty('toApiParser')&&typeof mapToApi.toApiParser==='function'){value=mapToApi.toApiParser(value)}zone[mapToApi.apiKey]=value}}var placeholder=document.createElement('div');element.parentElement.insertBefore(placeholder,element);var placement={'zone':zone,'where':placeholder};addPlacement(placement);element.setAttribute('data-processed',true)};var push=function(action){var actionKey=Object.keys(action)[0];var data=action[actionKey];if(actionKey==='addUnit'){addPlacement(data)}else if(actionKey==='serve'){serve(currentRequest,data)}else{debug('Action not recognized by AdProvider: '+actionKey)}};var getInitialCMPMode=function(data){if(data.hasOwnProperty('initial_cmp_mode')){if(data.initial_cmp_mode==='load_ads'){loadAdsForTCF=true}}};var addPlacement=function(data){if(typeof data.where==='undefined'||data.where===null){debug('The property \'where\' is required on the addUnit. '+JSON.stringify(data));return}var zones=null;if(data.hasOwnProperty('zone')){zones=[data.zone]}else if(data.hasOwnProperty('multiZone')){zones=data.multiZone.zones}else{debug('The type of unit wasn\'t recognized: '+JSON.stringify(data));return}var placement={'zones':zones,'here':data.where};if(!Array.isArray(placementsBatchesRequests[currentRequest])){placementsBatchesRequests[currentRequest]=[]}if(!placement.hasOwnProperty('here')||!placement.here){var scripts=document.getElementsByTagName('script');placement['here']=scripts[scripts.length-1]}var newPlacementPosition=placementsBatchesRequests[currentRequest].length;debug('Request #'+currentRequest+' Placement #'+newPlacementPosition+' was pushed with zone '+JSON.stringify(data.zone));var class_name=createStyle(document,placement['here'],stylesheet);var placeholder=document.createElement('div');placeholder.setAttribute('class',class_name);placement['here'].appendChild(placeholder);placement['placeholder']=placeholder;if(validatePlacement(placement)){placementsBatchesRequests[currentRequest].push(placement)}};var validatePlacement=function(placement){var placementPosition=placementsBatchesRequests[currentRequest].length;for(var placementIndex=0;placementIndex<placement.zones.length;placementIndex++){var zone=placement.zones[placementIndex];if(zone.hasOwnProperty('group')){for(var groupIndex=0;groupIndex<zone.group.length;groupIndex++){if(!validatePlacementZone(zone.group[groupIndex],placementPosition,placementIndex,groupIndex)){return false}}}else{if(!validatePlacementZone(zone,placementPosition,placementIndex)){return false}}debug('Request #'+currentRequest+' Placement #'+placementPosition+' was pushed with'+' properties '+JSON.stringify(zone))}return true};var validatePlacementZone=function(placementZone,placementPosition,placementIndex,groupPosition){if(!placementZone.hasOwnProperty('id')){var debugMsg='Request #'+currentRequest+' Placement #'+placementPosition;if(typeof groupPosition!=='undefined'){debugMsg+=' Group #'+groupPosition}debugMsg+=' Zone #'+placementIndex+' does not have required property \'id\'. It was pushed with '+'properties '+JSON.stringify(placementZone);debug(debugMsg);return false}return true};var serve=function(requestNum,data){if(gdpr==null){getInitialCMPMode(data);getTCData(function(){executeServe(requestNum,data)});return}executeServe(requestNum,data)};var executeServe=function(requestNum,data){handleInsElements();if(!placementsBatchesRequests.hasOwnProperty(requestNum)||placementsBatchesRequests[requestNum].length===0){debug('Request #'+requestNum+' has no placements to serve.');return}debug('Request #'+requestNum+' is being served.');var placements=[];for(var placement in placementsBatchesRequests[requestNum]){if(!placementsBatchesRequests[requestNum].hasOwnProperty(placement)){continue}placements.push(placementsBatchesRequests[requestNum][placement].zones);placementsBatchesRequests[requestNum][placement].requestData=data}runRequest(placements,data,requestNum,false);currentRequest++};var runDelayedRequest=function(placementRequest,requestNum){debug('Request #'+requestNum+' from delayed request is being served.');runRequest(placementRequest.zones,placementRequest.requestData,requestNum,true)};var runRequest=function(placements,data,requestNum,delayedRequest){var body={'user':{'ua':navigator.userAgent,'language':navigator.language,'referer':window.location.href,'consumer':'ad-provider','gdpr':gdpr},'zones':placements};var optionalUserParams=['uses_imptracker_urls','cookieconsent','el','scr_info'];for(var i=0;i<optionalUserParams.length;i++){var param=optionalUserParams[i];if(data.hasOwnProperty(param)){body.user[param]=data[param]}}if(typeof body.user['scr_info']==='undefined'){body.user['scr_info']=encodeURIComponent(btoa(exoDynamicParams.asyncScriptInfoTag))}var xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState===XMLHttpRequest.DONE){if(xmlhttp.status===200){handleResponse(xmlhttp.responseText,requestNum,delayedRequest)}}};xmlhttp.open('POST','https://'+exoDynamicParams.syndication+'/v1/api.php');xmlhttp.withCredentials=true;xmlhttp.setRequestHeader('Content-Type','text/plain');try{xmlhttp.send(JSON.stringify(body))}catch(error){debug('error')}};var handleResponse=function(response,currentRequestHandling,isDelayedRequest){debug('Request #'+currentRequestHandling+' handling the response');var decodedResponse=JSON.parse(response);var errors=typeof decodedResponse.errors!=='undefined'?decodedResponse.errors:[];var responses=getResponsesQueue(isDelayedRequest);if(!Array.isArray(responses[currentRequestHandling])){responses[currentRequestHandling]=[]}if(typeof decodedResponse.zones==='undefined'){debug('Request #'+currentRequestHandling+' had these '+'errors on API request:'+JSON.stringify(errors));return}if(typeof decodedResponse.user!=='undefined'){userData[currentRequestHandling]=decodedResponse.user}for(var placementIndex=0;placementIndex<decodedResponse.zones.length;placementIndex++){var placement=decodedResponse.zones[placementIndex];if(placement==null){if(typeof errors[placementIndex]!=='undefined'){debug('Request #'+currentRequestHandling+' Placement #'+placementIndex+' had these '+'errors on API request:'+JSON.stringify(errors[placementIndex]))}responses[currentRequestHandling][placementIndex]=null;continue}if(placement.hasOwnProperty('group')){for(var groupIndex=0;groupIndex<placement.group.ad_items.length;groupIndex++){if(!validateResponsePlacementZone(placement.group.ad_items[groupIndex],currentRequestHandling,errors,placementIndex,groupIndex)){responses[currentRequestHandling][placementIndex]=null;innerError=true;break}}}else{if(!validateResponsePlacementZone(placement,currentRequestHandling,errors,placementIndex,undefined,isDelayedRequest)){responses[currentRequestHandling][placementIndex]=null;continue}}responses[currentRequestHandling][placementIndex]=placement}for(var renderer in renderers){if(renderers.hasOwnProperty(renderer)&&typeof renderers[renderer]==='function'){var rendererParams=[currentRequestHandling];if(isDelayedRequest){rendererParams.push(isDelayedRequest)}renderers[renderer].apply(null,rendererParams)}}};var validateResponsePlacementZone=function(placementZoneResponse,currentRequestHandling,errors,placementIndex,groupIndex,isDelayedRequest){if(placementZoneResponse==null){if(typeof groupIndex!=='undefined'&&typeof errors[placementIndex][groupIndex]!=='undefined'){debug('Request #'+currentRequestHandling+' Placement #'+placementIndex+' Group #'+groupIndex+' had these errors on API request:'+JSON.stringify(errors[placementIndex][groupIndex]));return false}if(typeof errors[placementIndex]!=='undefined'){debug('Request #'+currentRequestHandling+' Placement #'+placementIndex+' had these '+'errors on API request:'+JSON.stringify(errors[placementIndex]));return false}}if(placementZoneResponse.data===null){var debugMsg='Request #'+currentRequestHandling+' Placement #'+placementIndex;if(typeof groupIndex!=='undefined'){debugMsg+=' Group #'+groupIndex}debugMsg+=' has no ads to display';debug(debugMsg);var responses=getResponsesQueue(isDelayedRequest);responses[currentRequestHandling][placementIndex]=null;return false}return true};var getAdData=function(requestId,adFormat,isDelayedRequest){var adData={'zones':[]};var requests=getRequestsQueue(isDelayedRequest);var responses=getResponsesQueue(isDelayedRequest);for(var responsePosition in responses[requestId]){if(!responses[requestId].hasOwnProperty(responsePosition)){continue}var response=responses[requestId][responsePosition];if(response===null){continue}if(typeof response.group!=='undefined'){var groupMainPlaceholder=placementsBatchesRequests[requestId][responsePosition].placeholder;setContainerSize(response,groupMainPlaceholder);var groupMainPlaceholderChildren=groupMainPlaceholder.querySelectorAll('div');for(var i=0;i<response.group.ad_items.length;i++){var innerResponse=response.group.ad_items[i];if(innerResponse.type===adFormat){performImpressionTrackings(innerResponse,adFormat);zoneObj=getRendererZoneObject(innerResponse.idzone,groupMainPlaceholderChildren[i],document,innerResponse.data);adData.zones.push(zoneObj);if(adFormat==='banner'){processAdRefresh(zoneObj,requestId,responsePosition,isDelayedRequest)}}}}else if(response.type===adFormat){var requestZoneData=requests[requestId][responsePosition];if(adFormat!=='in_page_push_notification'&&adFormat!=='outstream_video'){performImpressionTrackings(response,adFormat)}if(adFormat==='in_page_push_notification'){processIPPNotificationSpecifics(requestZoneData,response.data)}var placeholder=requestZoneData.placeholder;setContainerSize(response,placeholder);var zoneObj=getRendererZoneObject(response.idzone,placeholder,document,response.data);adData.zones.push(zoneObj);if(adFormat==='banner'){processAdRefresh(zoneObj,requestId,responsePosition,isDelayedRequest)}}}return adData};function getUserData(requestId){return userData[requestId]}var processIPPNotificationSpecifics=function(requestZoneData,responseZoneData){responseZoneData.notificationDisplayedCount=0;if(requestZoneData.hasOwnProperty('notificationDisplayedCount')){responseZoneData.notificationDisplayedCount=requestZoneData.notificationDisplayedCount}responseZoneData.processNextNotification=function(notificationDisplayedCount){requestZoneData.notificationDisplayedCount=notificationDisplayedCount;var positionInDelayedRequests=delayedRequests.length;delayedRequests.push([requestZoneData]);runDelayedRequest(requestZoneData,positionInDelayedRequests)}};var setContainerSize=function(responsePlacement,placeholder){if(typeof responsePlacement.container_size==='undefined'){return}var containerSize=responsePlacement.container_size;if(typeof containerSize.width!=='undefined'){placeholder.parentElement.style.width=containerSize.width+'px';placeholder.parentElement.style.overflow='hidden';placeholder.parentElement.style.margin='auto'}if(typeof containerSize.height!=='undefined'){placeholder.parentElement.style.height=containerSize.height+'px';placeholder.parentElement.style.overflow='hidden';placeholder.parentElement.style.margin='auto'}};var processAdRefresh=function(zoneObj,requestId,position,isDelayedRequest){var placementRequest;var requestNum;if(isDelayedRequest){placementRequest=delayedRequests[requestId][position];requestNum=requestId}else{placementRequest={'placeholder':zoneObj.dom.placeholder,'requestData':placementsBatchesRequests[requestId][position].requestData,'zones':placementsBatchesRequests[requestId][position].zones.map(function(zone){zone.id=zoneObj.idzone;return zone})};delayedRequests.push({'0':placementRequest});requestNum=delayedRequests.length-1}if('object'===typeof placementRequest.adRefresher){placementRequest.adRefresher.performImpressionReset();return}placementRequest.adRefresher=new window.ExoAdsRefresh(zoneObj.dom.placeholder,zoneObj.data.refreshRate,{'callback':runDelayedRequest,'parameters':[placementRequest,requestNum]})};var getRendererZoneObject=function(idzone,placeholder,documentReference,data){return{'idzone':idzone,'dom':{'placeholder':placeholder,'doc_reference':documentReference},'data':data}};var getGroupsData=function(requestId,isDelayedRequest){var adData=[];var requests=getRequestsQueue(isDelayedRequest);var responses=getResponsesQueue(isDelayedRequest);for(var responsePosition in responses[requestId]){if(!responses[requestId].hasOwnProperty(responsePosition)){continue}var response=responses[requestId][responsePosition];if(response===null){continue}if(typeof response.group!=='undefined'){var placementRequestItem=requests[requestId][responsePosition];adData.push({'dom':{'placeholder':placementRequestItem.placeholder,'doc_reference':document},'orientation':response.group.orientation,'data':response.group.ad_items})}}return adData};var performImpressionTrackings=function(singlePlacementResponse){if(singlePlacementResponse.data===null){return}var adsData=singlePlacementResponse.data;if(adsData.hasOwnProperty('ad_items')&&Array.isArray(adsData.ad_items)){var adItems=adsData.ad_items;for(var i in adItems){if(!adItems.hasOwnProperty(i)){continue}if(adItems[i].hasOwnProperty('impression')){trackImpression(adItems[i].impression,singlePlacementResponse.idzone,i)}}}else{if(adsData.hasOwnProperty('impression')){trackImpression(adsData.impression,singlePlacementResponse.idzone)}}};var trackImpression=function(impressionUrl,idzone,position){var debugErrorTracking=function(idzone,position){var debugMsg='Error tracking the impression from zone '+idzone;if(typeof position!=='undefined'){debugMsg+=' ad #'+position}debug(debugMsg)};var xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState===XMLHttpRequest.DONE){if(xmlhttp.status!=200){debugErrorTracking(idzone,position)}}};xmlhttp.open('GET',impressionUrl);try{xmlhttp.send()}catch(error){debugErrorTracking(idzone,position)}};var formatImage=function(exoNbRequestId,imageUrl){return imageUrl};var formatLink=function(exoNbRequestId,clickUrl){return clickUrl};var openLink=function(event,dest,force_method,addClickPosition){if(typeof force_method!=='undefined'&&force_method!=='get'&&force_method!=='post'){debug('openLink() trying to force invalid method')}if(typeof(event)!=='undefined'){event.returnValue=false;if(event.preventDefault){event.preventDefault()}event.stopPropagation()}if(addClickPosition){dest+='&clickX='+event.clientX;dest+='&clickY='+event.clientY}var url_parts;var parameters;var method=(force_method)?force_method:'get';if(dest.indexOf('?')!==-1){url_parts=dest.split('?',2);parameters=URLToArray(url_parts[1])}else{url_parts=[dest];parameters=[]}var f=document.createElement('form');f.setAttribute('action',url_parts[0]);f.setAttribute('method',method);f.setAttribute('target','_blank');document.getElementsByTagName('body').item(0).appendChild(f);for(var i in parameters){if(!parameters.hasOwnProperty(i)){continue}var input=document.createElement('input');input.setAttribute('type','hidden');input.setAttribute('name',i);input.setAttribute('value',parameters[i]);f.appendChild(input)}f.submit();document.getElementsByTagName('body').item(0).removeChild(f);return false};var setCookie=function(name,value,seconds_ttl,domain){seconds_ttl=parseInt(seconds_ttl);var exdate=new Date();exdate.setSeconds(exdate.getSeconds()+seconds_ttl);var c_value=encodeURI(value)+"; expires="+exdate.toUTCString()+"; path=/";if(domain){c_value+="; domain="+domain}document.cookie=name+"="+c_value};var getCookie=function(name){var i,x,y,ARRcookies=document.cookie.split(";");for(i=0;i<ARRcookies.length;i++){x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x===name){return decodeURI(y)}}};var getRandomizedReference=function(name,reference_map){if(typeof name!=='string'||name===''){debug("getRandomizedReference() invalid name, non-empty string expected");return false}if(typeof reference_map!=='object'){debug("getRandomizedReference() invalid reference_map, object expected");return false}if(typeof reference_map[name]==='undefined'){reference_map[name]=name}return reference_map[name]};var scrambleStyleString=function(style_str,reference_map){if(typeof style_str!=='string'||style_str===''){debug("scrambleStyleString() invalid style_str, non-empty string expected");return false}if(typeof reference_map!=='object'){debug("getRandomizedReference() invalid reference_map, object expected");return false}return style_str};return{"handleSnippetQueue":handleSnippetQueue,"push":push,"serve":serve,"getDebugMessages":getDebugMessages,"getAdData":getAdData,"getUserData":getUserData,"getGroupsData":getGroupsData,"formatImage":formatImage,"formatLink":formatLink,"openLink":openLink,"performImpressionTrackings":performImpressionTrackings,"getCookie":getCookie,"setCookie":setCookie,"getRandomizedReference":getRandomizedReference,"scrambleStyleString":scrambleStyleString,"createRendererFunction":createRendererFunction,"keepHttpResponseAsIs":keepHttpResponseAsIs,"renderers":renderers,"trackImpression":trackImpression}})();AdProvider.handleSnippetQueue(adProviderQ);ExoLoader=AdProvider;(function(){"use strict";function ExoSupport(){const ua=window.navigator.userAgent;this.features={'webp':true};if(ua.match(/IE/)){this.features['webp']=false}if(ua.match(/Safari|Edge/)&&!ua.match(/Version.14\./)){const elem=document.createElement('canvas');if(!!(elem.getContext&&elem.getContext('2d'))){this.features['webp']=elem.toDataURL('image/webp').indexOf('data:image/webp')===0}else{this.features['webp']=false}}}ExoSupport.prototype.supported=function(feature){return this.features[feature]};window.ExoSupport=new ExoSupport()}());(function(){try{var AdLoader=AdProvider;AdLoader.renderers['group']=function(exoNbRequestId,isDelayedRequest){if(typeof AdLoader!=='undefined'&&AdLoader!==null){var groupsData=AdLoader.getGroupsData(exoNbRequestId,isDelayedRequest);for(var i=0;i<groupsData.length;i++){var group=groupsData[i];group.dom.placeholder.innerHTML='';generateGroup(group.dom,group.data,group.orientation)}}}}catch(err){console.log('multiformat group renderer failed with error: '+err.message)}function generateGroup(dom,data,orientation){var flexDirection=orientation==='vertical'?'column':'row';var group=dom.placeholder;group.style.display='inline-flex';group.style.flexDirection=flexDirection;for(var i=0;i<data.length;i++){var item=dom["doc_reference"].createElement('div');group.appendChild(item)}}}());(function(){try{var AdLoader=ExoLoader;var render=function(exoNbRequestId,isDelayedRequest){if(typeof AdLoader!=='undefined'&&AdLoader!==null){var zonesData=AdLoader.getAdData(exoNbRequestId,'banner',isDelayedRequest);for(var i=0;i<zonesData.zones.length;i++){var ad=zonesData.zones[i];ad.data.image=AdLoader.formatImage(exoNbRequestId,ad.data.image);ad.data.url=AdLoader.formatLink(exoNbRequestId,ad.data.url);ad.dom.placeholder.innerHTML='';generateBannerHtml(ad.dom,ad.data)}}};if(typeof AdLoader.createRendererFunction==='undefined'||AdLoader.createRendererFunction===false){render(exoNbRequestId)}else{AdLoader.renderers['banner']=render}}catch(err){console.log('banner renderer failed with error: '+err.message)}function generateBannerHtml(dom,adData){var addDimensions=function(adData,domElement){if(typeof adData.width!=='undefined'){domElement.setAttribute('width',adData.width+"px")}if(typeof adData.height!=='undefined'){domElement.setAttribute('height',adData.height+"px")}};var renderBannerImage=function(dom,adData){var imageNew=dom["doc_reference"].createElement('img');addDimensions(adData,imageNew);imageNew.src=(adData.optimum_image&&ExoSupport.supported('webp'))?adData.optimum_image:adData.image;dom.placeholder.innerHTML='';dom.placeholder.appendChild(imageNew);dom.placeholder.style.removeProperty('display')};var renderBannerHtml=function(dom,adData){var htmlNew=dom["doc_reference"].createElement('iframe');addDimensions(adData,htmlNew);htmlNew.setAttribute('sandbox','allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts');htmlNew.setAttribute('frameborder','0');htmlNew.setAttribute('scrolling','no');htmlNew.setAttribute('marginwidth','0');htmlNew.setAttribute('marginheight','0');dom.placeholder.appendChild(htmlNew);var doc=htmlNew.contentWindow.document;doc.open();doc.write("<body style=\"margin:0px;\">"+adData.html+"</body>");doc.close();dom.placeholder.style.removeProperty('display')};var renderBannerVideo=function(dom,adData){var videoEl=dom['doc_reference'].createElement('video');addDimensions(adData,videoEl);videoEl.setAttribute('loop',true);videoEl.setAttribute('muted',true);videoEl.muted=true;videoEl.setAttribute('autoplay',true);videoEl.setAttribute('playsinline',true);videoEl.setAttribute('preload','auto');var videoSourceEl=dom['doc_reference'].createElement('source');if(adData.optimum_image){videoSourceEl.setAttribute('src',adData.optimum_image)}else{videoSourceEl.setAttribute('src',adData.video)}videoEl.appendChild(videoSourceEl);dom.placeholder.appendChild(videoEl);dom.placeholder.style.removeProperty('display')};var addOnclickEvent=function(dom,url,addClickPosition){dom.placeholder.onclick=(function(dest){return function(event){AdLoader.openLink(event,dest,undefined,addClickPosition)}})(url)};if(typeof adData.height!=='undefined'){dom.placeholder.style.height=adData.height+"px"}if(typeof adData.width!=='undefined'){dom.placeholder.style.width=adData.width+"px"}dom.placeholder.style.cursor='pointer';if(!adData.media||adData.media==='img_banner'){const videoFormat=adData.optimum_image&&adData.optimum_image.split('.').pop()!=='webp';if(videoFormat){renderBannerVideo(dom,adData)}else{renderBannerImage(dom,adData)}addOnclickEvent(dom,adData.url)}else if(adData.media==='html_banner'){renderBannerHtml(dom,adData)}else if(adData.media==='video_banner'){renderBannerVideo(dom,adData);addOnclickEvent(dom,adData.url,true)}else{return}}}());(function(){try{var idzone=null;var widgetId;var randomizedRefMap={};var pattern=/\.(exo-native[a-zA-Z\-_]+)/g;var AdLoader=ExoLoader;var render=function(exoNbRequestId){var layoutImageFields=['branding_logo','branding_logo_hover'];if(typeof AdLoader!=='undefined'&&AdLoader!==null){var zonesData=AdLoader.getAdData(exoNbRequestId,"native_ad");for(var i=0;i<zonesData.zones.length;i++){var ad=zonesData.zones[i];if(!AdLoader.keepHttpResponseAsIs){ad.data.ad_items=ad.data.data;delete ad.data.data}idzone=ad.idzone;var domPlaceholder=ad.dom.placeholder;for(var layoutI=0;layoutI<layoutImageFields.length;layoutI++){var layoutField=layoutImageFields[layoutI];if(typeof ad.data.layout[layoutField]!=='undefined'&&ad.data.layout[layoutField]!==''){ad.data.layout[layoutField]=AdLoader.formatImage(exoNbRequestId,ad.data.layout[layoutField])}}for(var adI=0;adI<ad.data.ad_items.length;adI++){ad.data.ad_items[adI].image=AdLoader.formatImage(exoNbRequestId,ad.data.ad_items[adI].image);ad.data.ad_items[adI].url=AdLoader.formatLink(exoNbRequestId,ad.data.ad_items[adI].url)}widgetId='exoNativeWidget_'+idzone+"_"+randStr(5);domPlaceholder.parentNode.insertBefore(generateWidgetHtml(ad.data),domPlaceholder)}}};if(typeof AdLoader.createRendererFunction==='undefined'||AdLoader.createRendererFunction===false){render(exoNbRequestId)}else{AdLoader.renderers['native']=render}}catch(err){console.log('native renderer failed with error: '+err.message)}function ExoMath(v){this.float=function(v){v=typeof v==='boolean'?+v:v;return isNaN(parseFloat(v))?0:parseFloat(v)};this.sum=function(v){this.set(this.v+this.float(v));return this};this.sub=function(v){this.set(this.v-this.float(v));return this};this.mult=function(v){this.set(this.v*this.float(v));return this};this.div=function(v){this.set(this.v/this.float(v));return this};this.concat=function(s){if(this.s.indexOf(s)<0){this.set(this.s+s.toString())}return this};this.px=function(){return this.concat('px').s};this.perc=function(){return this.concat('%').s};this.get=function(){return this.v};this.string=function(){return this.s};this.set=function(v){v=v||0;this.v=this.float(v);this.s=v.toString()};this.set(v)}function parse(v){return new ExoMath(v)}function display(v){return new ExoMath(+v).get()||(typeof v==='string'&&v.toString().length>1)?'block':'none'}function randStr(length,possibleChars){var text="";var possible=possibleChars||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var i=0;i<length;i++){text+=possible.charAt(Math.floor(Math.random()*possible.length))}return text};function generateWidgetHtml(jsonSettings){var elNativeWidget=document.createElement('div');elNativeWidget.id=AdLoader.getRandomizedReference(widgetId,randomizedRefMap);elNativeWidget.className=AdLoader.getRandomizedReference('exo-native-widget',randomizedRefMap);elNativeWidget.appendChild(generateWidgetCss(jsonSettings.layout));if(jsonSettings.layout.mobile_responsive_type){elNativeWidget.appendChild(generateWidgetResponsiveCss(jsonSettings.layout.minimum_width_for_full_sized_layout,'#'+AdLoader.getRandomizedReference(widgetId,randomizedRefMap)))}if(jsonSettings.layout.customcss_enabled){elNativeWidget.appendChild(generateWidgetCustomCss(jsonSettings.layout.customcss))}if(isValidBrowser()){elNativeWidget.appendChild(generateWidgetSwapHrefScript())}if(jsonSettings.layout.header_enabled&&jsonSettings.layout.header_is_on_top){elNativeWidget.appendChild(generateBrandingArea(jsonSettings.layout.widgetHeaderContentHtml))}var elWidgetOuterContainer=document.createElement('div');elWidgetOuterContainer.className=AdLoader.getRandomizedReference('exo-native-widget-outer-container',randomizedRefMap);elNativeWidget.appendChild(elWidgetOuterContainer);for(var i=0;i<jsonSettings.ad_items.length;i++){elWidgetOuterContainer.appendChild(generateSingleAd(jsonSettings.ad_items[i],jsonSettings.layout.open_in_new_window))}if(jsonSettings.layout.header_enabled&&!jsonSettings.layout.header_is_on_top){elNativeWidget.appendChild(generateBrandingArea(jsonSettings.layout.widgetHeaderContentHtml))}return elNativeWidget}function generateSingleAd(adData,openInNewWindow){var elSingleAd=document.createElement('div');elSingleAd.className=AdLoader.getRandomizedReference('exo-native-widget-item-container',randomizedRefMap);var elA=document.createElement('a');elA.className=AdLoader.getRandomizedReference('exo-native-widget-item',randomizedRefMap);if(isValidBrowser()){elA.setAttribute('href','');elA.setAttribute('real-href',adData.url);elA.setAttribute('oncontextmenu','setRealHref(event)');elA.setAttribute('onmouseup','setRealHref(event)')}else{elA.href=adData.url}elA.setAttribute('rel','nofollow');if(openInNewWindow){elA.setAttribute('target','_blank')}var elImage=document.createElement('div');elImage.className=AdLoader.getRandomizedReference('exo-native-widget-item-image',randomizedRefMap);var image=(adData.optimum_image&&ExoSupport.supported('webp'))?adData.optimum_image:adData.image;elImage.style.backgroundImage='url("'+image+'")';elImage.style.backgroundPosition=adData.image_position;var elImageWrapper=document.createElement('div');elImageWrapper.className=AdLoader.getRandomizedReference('exo-native-widget-item-image-wrapper',randomizedRefMap);elImageWrapper.appendChild(elImage);var elImageRatio=document.createElement('div');elImageRatio.className=AdLoader.getRandomizedReference('exo-native-widget-item-image-ratio',randomizedRefMap);elImageWrapper.appendChild(elImageRatio);elA.appendChild(elImageWrapper);var elContent=document.createElement('div');elContent.className=AdLoader.getRandomizedReference('exo-native-widget-item-content',randomizedRefMap);var elTitle=document.createElement('div');elTitle.className=AdLoader.getRandomizedReference('exo-native-widget-item-title',randomizedRefMap);elTitle.innerHTML=adData.title;elContent.appendChild(elTitle);var elDescription=document.createElement('div');elDescription.className=AdLoader.getRandomizedReference('exo-native-widget-item-text',randomizedRefMap);elDescription.innerHTML=adData.description;elContent.appendChild(elDescription);var elBrand=document.createElement('div');elBrand.className=AdLoader.getRandomizedReference('exo-native-widget-item-brand',randomizedRefMap);elBrand.innerHTML=adData.brand;elContent.appendChild(elBrand);elA.appendChild(elContent);elSingleAd.appendChild(elA);return elSingleAd}function getCalculatedSettings(s){if(s.is_mobile){s.text_position=s.mobile_text_position;s.text_box_size=s.mobile_text_box_size;s.image_width=s.mobile_image_width;s.image_height=s.mobile_image_height;s.rows=s.mobile_rows;s.cols=s.mobile_cols}else{s.rows=s.itemsPerCol;s.cols=s.itemsPerRow}var directionMap={right:'row',bottom:'column'};var absoluteMap={right:'absolute',bottom:'initial'};var textIsOnTheRight=s.text_position==='right';var isExit=s.publisherAdType==='native-exit';var justifyMap={right:'flex-end',left:'flex-start',center:'center'};var hasText=s.is_mobile?parse(s.mobile_text_enabled).get():parse(s.text_enabled).get();s.text_position=s.text_position===''||!s.text_position?'bottom':s.text_position;s.zone_id_prefix='#'+widgetId;s.calculated_item_width=(100/s.cols)+'%';s.item_title_display=display(s.title_enabled);s.item_description_display=display(s.description_enabled);s.item_brand_display=display(s.brand_enabled);s.string_image_border_style=(s.image_border_size&&s.image_border_color)?parse('border:').concat(parse(s.image_border_size).px()).concat(' solid ').concat(s.image_border_color).concat(';').string():'';s.header_justify_content=justifyMap[s.header_text_align];s.flex_direction=directionMap[s.text_position];s.text_absolute=absoluteMap[s.text_position];s.zoom=parse(s.zoom).get()?105:100;s.mobile_rows=parse(s.mobile_rows||1).get();s.mobile_cols=parse(s.mobile_cols||2).get();s.breakpoint=parse(s.mobile_breakpoint).px();s.mobile_text_box_size=parse(s.mobile_text_box_size).px();s.header_display=display(s.branding_logo);s.spacing_h=parse(s.spacing_h).px();s.spacing_v=parse(s.spacing_v).px();s.zoomOut=parse(s.image_height).get()>parse(s.image_width).get()?'auto 100%':'100% auto';s.zoomIn=s.zoomOut.replace('100%',parse(s.zoom).perc());s.text_display=display(s.text_box_size);s.aspect_ratio=parse(s.image_height).div(s.image_width).mult(100).perc();s.widget_width=parse(s.widget_width).px();s.header_padding_position=parse(s.header_is_on_top).get()?'bottom':'top';s.text_box_size=parse(hasText?s.text_box_size:0).px();s.text_box_size_flex='initial';s.image_size_flex='initial';if(textIsOnTheRight){var textSizeMultiplier=s.is_mobile?2.5:1;var textSize=parse(s.image_width).mult(textSizeMultiplier).sum(s.item_padding).px();s.text_box_size=parse(hasText?textSize:0).px();s.widget_width_calc=parse(s.image_width).sum(s.text_box_size).mult(s.cols).px();s.widget_min_width=parse(s.text_box_size).mult(2).mult(s.cols).sub(s.spacing_v).px();s.image_wrapper_width=parse('calc(100% - ').concat(s.text_box_size).concat(')').string();s.text_max_width=parse(s.text_box_size).px();s.text_max_height=parse(s.image_height).px();s.text_width=parse(s.text_box_size).px();s.text_height='auto';s.text_padding_left=parse(s.item_padding).px();s.text_padding_top=parse(0).px();s.image_size_flex=1;s.text_box_size_flex=textSizeMultiplier;if(hasText){s.text_max_width=s.is_mobile?'initial':s.text_max_width;s.text_absolute='initial'}}else{s.text_box_size=parse(hasText?90:0).px();s.widget_width_calc=parse(s.image_width).mult(s.cols).px();s.widget_min_width='auto';s.image_wrapper_width=parse(100).perc();s.text_max_width=parse(100).perc();s.text_max_height=parse(s.text_box_size).px();s.text_width=parse(100).perc();s.text_height=parse(s.text_box_size).px();s.text_padding_left=parse(0).px();s.text_padding_top=parse(s.item_padding).px()}var spacing_h_calc=parse(s.spacing_h).mult(parse(s.cols).sub(1).get()).get();s.widget_width_calc=parse(s.widget_width_calc).sum(spacing_h_calc).px();s.widget_min_width=parse(100).sum(spacing_h_calc).px();if(parse(s.widget_width)>0){s.widget_width_calc=parse(s.widget_width).px()}s.max_items=parse(s.cols).mult(s.rows).sum(1).get();s.max_items_mobile=parse(s.mobile_rows).mult(s.mobile_cols).sum(1).get();if(s.is_mobile){s.widget_min_width=parse(50).px();s.max_items=s.max_items_mobile}if(isExit){s.widget_min_width=parse(100).perc()}if(s.header_enabled!==undefined&&parse(s.header_enabled).get()===0){s.widgetHeaderContentHtml=''}return s}function generateWidgetCss(s){var elStyle=document.createElement('style');s=getCalculatedSettings(s);var mainStyleString=''+"\n"+'{{zone_id_prefix}}.exo-native-widget , /* required space between class and comma because of regex from frontend loader*/'+"\n"+'{{zone_id_prefix}}.exo-native-widget * {'+"\n"+'    box-sizing: border-box;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget {'+"\n"+'    background-color: {{widget_background_color}};'+"\n"+'    overflow: hidden;'+"\n"+'    max-width: 100%;'+"\n"+'    width: {{widget_width_calc}};'+"\n"+'    min-width: {{widget_min_width}};'+"\n"+'    display: inline-flex;'+"\n"+'    flex-direction: column;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget .exo-native-widget-header {'+"\n"+'    width: initial !important;'+"\n"+'    float: initial !important;'+"\n"+'    white-space: nowrap;'+"\n"+'    font-family: {{font_family}};'+"\n"+'    font-size: {{header_font_size}};'+"\n"+'    color: {{header_font_color}};'+"\n"+'    display: {{header_display}};'+"\n"+'    padding-{{header_padding_position}}: 15px;'+"\n"+'    line-height: 15px;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget .exo-native-widget-header a {'+"\n"+'    display: flex;'+"\n"+'    justify-content: {{header_justify_content}};'+"\n"+'    color: inherit;'+"\n"+'    text-decoration: none;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget .exo-native-widget-header a span {'+"\n"+'    display: flex;'+"\n"+'    height: 14px;'+"\n"+'    width: 47px;'+"\n"+'    margin-left: 4px;'+"\n"+'    background: rgba(0, 0, 0, 0) url("{{branding_logo}}") repeat scroll 0 0 / 47px 14px;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget .exo-native-widget-header a:hover span {'+"\n"+'    background: rgba(0, 0, 0, 0) url("{{branding_logo_hover}}") repeat scroll 0 0 / 47px 14px;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container {'+"\n"+'    display: flex;'+"\n"+'    flex-wrap: wrap;'+"\n"+'    height: 100%;'+"\n"+'    align-content: space-between;'+"\n"+'    margin-bottom: -{{spacing_v}};'+"\n"+'    margin-right: -{{spacing_h}};'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container {'+"\n"+'    overflow: hidden;'+"\n"+'    flex-basis: calc(100%/{{cols}});'+"\n"+'    position: relative;'+"\n"+'    padding-right: {{spacing_h}};'+"\n"+'    padding-bottom: {{spacing_v}};'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item , /* required space between class and comma because of regex from frontend loader*/'+"\n"+'a.exo-native-widget-item:visited {'+"\n"+'    text-decoration: none;'+"\n"+'    font-family: {{font_family}};'+"\n"+'    font-size:  {{header_font_size}};'+"\n"+'    color: {{header_font_color}};'+"\n"+'    overflow: hidden;'+"\n"+'    display: flex;'+"\n"+'    position: relative;'+"\n"+'    flex-direction: {{flex_direction}};'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-image-wrapper {'+"\n"+'    position: relative;'+"\n"+'    float: left;'+"\n"+'    width: {{image_wrapper_width}};'+"\n"+'    min-width: auto;'+"\n"+'    z-index: 2;'+"\n"+'    flex: {{image_size_flex}};'+"\n"+'    height: 100%;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-image-ratio {'+"\n"+'    width: 100%;'+"\n"+'    padding-top: {{aspect_ratio}};'+"\n"+'    z-index: 1;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-image {'+"\n"+'    background-repeat: no-repeat;'+"\n"+'    background-size: {{zoomOut}};'+"\n"+'    {{string_image_border_style}}'+"\n"+'    position: absolute;'+"\n"+'    top: 0;'+"\n"+'    left: 0;'+"\n"+'    width: 100%;'+"\n"+'    height: 100%;'+"\n"+'    transition: background-size 0.3s;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-image:hover {'+"\n"+'    background-size: {{zoomIn}};'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content {'+"\n"+'    max-width: {{text_max_width}};'+"\n"+'    max-height: {{text_max_height}};'+"\n"+'    overflow: hidden;'+"\n"+'    position: {{text_absolute}};'+"\n"+'    right: 0;'+"\n"+'    top: 0;'+"\n"+'    width: {{text_width}};'+"\n"+'    height: {{text_height}};'+"\n"+'    padding-left: {{text_padding_left}};'+"\n"+'    padding-right: 0;'+"\n"+'    padding-top: {{text_padding_top}};'+"\n"+'    padding-bottom: 0;'+"\n"+'    display: {{text_display}};'+"\n"+'    text-align: {{text_align}};'+"\n"+'    flex: {{text_box_size_flex}};'+"\n"+'    position: relative;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content '+"\n"+'.exo-native-widget-item-content-box {'+"\n"+'    position: absolute;'+"\n"+'    width: 100%;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content '+"\n"+'.exo-native-widget-item-title {'+"\n"+'    font-family: {{font_family}};'+"\n"+'    font-size: {{title_font_size}};'+"\n"+'    color: {{title_font_color}};'+"\n"+'    font-weight: {{title_font_weight}};'+"\n"+'    text-decoration: {{title_decoration}};'+"\n"+'    display: {{item_title_display}};'+"\n"+'    transition: color 0.16s;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content '+"\n"+'.exo-native-widget-item-text { '+"\n"+'    font-family: {{font_family}};'+"\n"+'    font-size: {{description_font_size}};'+"\n"+'    color: {{description_font_color}};'+"\n"+'    font-weight: {{description_font_weight}};'+"\n"+'    text-decoration: {{description_decoration}};'+"\n"+'    display: {{item_description_display}};'+"\n"+'    transition: color 0.16s;'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content '+"\n"+'.exo-native-widget-item-brand { '+"\n"+'    font-family: {{font_family}};'+"\n"+'    font-size: {{brand_font_size}};'+"\n"+'    color: {{brand_font_color}};'+"\n"+'    font-weight: {{brand_font_weight}};'+"\n"+'    text-decoration: {{brand_decoration}};'+"\n"+'    display: {{item_brand_display}};'+"\n"+'}'+"\n"+''+"\n"+''+"\n"+'/* Hover section below: */'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content '+"\n"+'.exo-native-widget-item-title:hover {'+"\n"+'    color: {{title_hover_color}};'+"\n"+'    font-weight: {{title_hover_font_weight}};'+"\n"+'    text-decoration: {{title_hover_decoration}};'+"\n"+'}'+"\n"+''+"\n"+'{{zone_id_prefix}}.exo-native-widget '+"\n"+'.exo-native-widget-outer-container '+"\n"+'.exo-native-widget-item-container '+"\n"+'a.exo-native-widget-item '+"\n"+'.exo-native-widget-item-content '+"\n"+'.exo-native-widget-item-text:hover { '+"\n"+'    color: {{description_hover_color}};'+"\n"+'    font-weight: {{description_hover_font_weight}};'+"\n"+'    text-decoration: {{description_hover_decoration}};'+"\n"+'}'+"\n"+''+"\n"+'@media all and (max-width: {{mobile_breakpoint}}px) {'+"\n"+'    {{zone_id_prefix}}.exo-native-widget '+"\n"+'    .exo-native-widget-outer-container '+"\n"+'    .exo-native-widget-item-container:nth-child(n+{{max_items_mobile}}) { '+"\n"+'        display: none;'+"\n"+'    }'+"\n"+'    '+"\n"+'    {{zone_id_prefix}}.exo-native-widget '+"\n"+'    .exo-native-widget-outer-container '+"\n"+'    .exo-native-widget-item-container { '+"\n"+'        flex-basis: calc(100%/{{mobile_cols}});'+"\n"+'    }'+"\n"+'}'+"\n"+'';var regExTemp=null;for(var placeholder in s){if(s.hasOwnProperty(placeholder)){regExTemp=new RegExp('{{'+placeholder+'}}','g');mainStyleString=mainStyleString.replace(regExTemp,s[placeholder])}}mainStyleString=AdLoader.scrambleStyleString(mainStyleString,randomizedRefMap,pattern);elStyle.innerHTML=mainStyleString;return elStyle}function generateWidgetResponsiveCss(minimumWidthFullSize,zoneIdPrefix){var elStyle=document.createElement('style');var mainStyleString=''+"\n"+'@media all and (max-width: '+minimumWidthFullSize+') {'+"\n"+'    '+zoneIdPrefix+'.exo-native-widget {'+"\n"+'        width: 100% !important;'+"\n"+'        height: auto !important;'+"\n"+'    }'+"\n"+'    '+zoneIdPrefix+'.exo-native-widget .exo-native-widget-item-container {'+"\n"+'        clear: both;'+"\n"+'        width: 100% !important;'+"\n"+'        max-width: 100% !important;'+"\n"+'        margin-left: 0 !important;'+"\n"+'    }'+"\n"+'    '+zoneIdPrefix+'.exo-native-widget .exo-native-widget-item-outer-container {'+"\n"+'        width: 100% !important;'+"\n"+'    }'+"\n"+'    '+zoneIdPrefix+'.exo-native-widget .exo-native-widget-item .exo-native-widget-item-image {'+"\n"+'        width: 100% !important;'+"\n"+'        max-width: 100% !important;'+"\n"+'        margin: auto !important'+"\n"+'    }'+"\n"+'    '+zoneIdPrefix+'.exo-native-widget .exo-native-widget-item-container .exo-native-widget-item .exo-native-widget-item-content {'+"\n"+'        max-width: 100% !important;'+"\n"+'    }'+"\n"+'    '+zoneIdPrefix+'.exo-native-widget .exo-native-widget-item-container .exo-native-widget-item {'+"\n"+'        margin: 0 auto !important;'+"\n"+'    }'+"\n"+'}';mainStyleString=AdLoader.scrambleStyleString(mainStyleString,randomizedRefMap,pattern);elStyle.innerHTML=mainStyleString;return elStyle}function generateWidgetCustomCss(customcss){var elStyle=document.createElement('style');var css=customcss.replace(/ *(:|;|{|}) */g,"$1").replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,'').split('}').filter(function(el){return el.trim().length>0}).map(function(el){return'#'+widgetId+'.exo-native-widget '+el}).join('} ')+'}';css=AdLoader.scrambleStyleString(css,randomizedRefMap,pattern);elStyle.innerHTML=css;return elStyle}function isValidBrowser(){if(window.attachEvent&&!window.addEventListener){return false}else{return true}}function generateWidgetSwapHrefScript(){var elScript=document.createElement('script');elScript.setAttribute('type','application/javascript');scriptString=''+"\n"+'function setRealHref(e) {'+"\n"+'var caller = e.currentTarget || e.srcElement; '+"\n"+'caller.setAttribute("href", caller.getAttribute("real-href"));'+"\n"+'}';elScript.innerHTML=scriptString;return elScript}function generateBrandingArea(widgetHeaderContentHtml){var elBranding=document.createElement('div');elBranding.className=AdLoader.getRandomizedReference('exo-native-widget-header',randomizedRefMap);elBranding.innerHTML=widgetHeaderContentHtml;return elBranding}}());(function(){try{var AdLoader=AdProvider;var userSessionCappingCookiePrefix='zone-cap-';var zoneClosedCookiePrefix='zone-closed-';var userSessionCappingTTL=6*60;var imgWidth=192/2;var imgHeight=192/2;var containerWidth=imgWidth*4;var containerHeight=imgHeight;var defaultMarginPx=20;AdLoader.renderers['in_page_push_notification']=function(exoNbRequestId,isDelayedRequest){if(typeof AdLoader!=='undefined'&&AdLoader!==null){var zonesData=AdLoader.getAdData(exoNbRequestId,'in_page_push_notification',isDelayedRequest);var cookieConsentFromUser=AdLoader.getUserData(exoNbRequestId).cookieconsent;for(var i=0;i<zonesData.zones.length;i++){var ad=zonesData.zones[i];renderInPagePushNotification(ad,cookieConsentFromUser)}}}}catch(err){console.log('in-page-push-notification renderer failed with error: '+err.message)}var renderInPagePushNotification=function(adConfiguration,cookieConsentFromUser){var randomizedRefMap={};var idZone=adConfiguration.idzone;var dom=adConfiguration.dom;var adData=adConfiguration.data;var horizontalPosition=adData.horizontal_position;var verticalPosition=adData.vertical_position;var delay=isNaN(adData.delay)?0:parseInt(adData.delay);var maxNotificationsOnPage=isNaN(adData.max_notifications_on_page)?1:parseInt(adData.max_notifications_on_page);var onceClosedHideForSeconds=isNaN(adData.once_closed_hide_for)?10:parseInt(adData.once_closed_hide_for);var userSessionCapping=isNaN(adData.user_session_capping)?0:parseInt(adData.user_session_capping);var delayBetweenNotifications=isNaN(adData.delay_between_notifications)?10:parseInt(adData.delay_between_notifications);var notificationDisplayedCount=adData.notificationDisplayedCount;var cookieconsent=cookieConsentFromUser;var styleSheet=''+"\n"+'.exo-ipp-container {'+"\n"+'    width: '+containerWidth+'px;'+"\n"+'    height: '+containerHeight+'px;'+"\n"+'    display: flex;'+"\n"+'    display: -webkit-box;'+"\n"+'    display: -moz-box;'+"\n"+'    display: -ms-flexbox;'+"\n"+'    display: -webkit-flex;'+"\n"+'    background: white;'+"\n"+'    border-radius: 10px;'+"\n"+'    margin: '+defaultMarginPx+'px;'+"\n"+'    cursor: pointer;'+"\n"+'    z-index: 9999999999999;'+"\n"+'    position: fixed;'+"\n"+'    color: initial;'+"\n"+'}'+"\n"+'.exo-ipp-container.h-left {'+"\n"+'    left: 0px;'+"\n"+'}'+"\n"+'.exo-ipp-container.h-right {'+"\n"+'    right: 0px;'+"\n"+'}'+"\n"+'.exo-ipp-container.h-center {'+"\n"+'    left: 50%;'+"\n"+'    margin-left: {{horizontalPositionCenterMarginLeft}};'+"\n"+'}'+"\n"+'.exo-ipp-container.v-top {'+"\n"+'    top: 0px;'+"\n"+'}'+"\n"+'.exo-ipp-container.v-bottom {'+"\n"+'    bottom: 0px;'+"\n"+'}'+"\n"+'.exo-ipp-container.v-middle {'+"\n"+'    top: 50%;'+"\n"+'    margin-top: {{verticalPositionMiddleMarginTop}};'+"\n"+'}'+"\n"+'.exo-ipp-container.second-notification {'+"\n"+'    margin-bottom: '+(defaultMarginPx*2+imgHeight)+'px;'+"\n"+'}'+"\n"+'.exo-ipp-container.second-notification.v-top{'+"\n"+'    margin-top: '+(defaultMarginPx*2+imgHeight)+'px;'+"\n"+'}'+"\n"+'.exo-ipp-container.second-notification.v-middle{'+"\n"+'    margin-top: '+(defaultMarginPx*2+imgHeight)+'px;'+"\n"+'    margin-top: {{secondNotificationVerticalPositionMiddleMarginTop}}px;'+"\n"+'}'+"\n"+'.exo-ipp-container.mobile {'+"\n"+'    width: initial;'+"\n"+'    left: 0px;'+"\n"+'    right: 0px;'+"\n"+'    margin-left: '+defaultMarginPx+'px;'+"\n"+'    margin-right: '+defaultMarginPx+'px;'+"\n"+'    margin-bottom: '+defaultMarginPx+'px;'+"\n"+'}'+"\n"+'.exo-ipp-image {'+"\n"+'    width: '+imgWidth+'px;'+"\n"+'    height: '+imgHeight+'px;'+"\n"+'    background: rgba(219, 218, 215, 0.9);'+"\n"+'    border-radius: 10px 0px 0px 10px;'+"\n"+'    flex-shrink: 0;'+"\n"+'}'+"\n"+'.exo-ipp-text-container {'+"\n"+'    display: flex;'+"\n"+'    display: -webkit-box;'+"\n"+'    display: -moz-box;'+"\n"+'    display: -ms-flexbox;'+"\n"+'    display: -webkit-flex;'+"\n"+'    flex-direction: column;'+"\n"+'    -ms-flex-direction: row;'+"\n"+'    -webkit-flex-direction: column;'+"\n"+'    justify-content: center;'+"\n"+'    -webkit-justify-content: center;'+"\n"+'    -ms-flex-pack: center;'+"\n"+'    margin-left: 16px;'+"\n"+'    width: 100%;'+"\n"+'    text-align: center;'+"\n"+'    line-height: 20px;'+"\n"+'}'+"\n"+'.exo-ipp-title {'+"\n"+'    font-weight: bold;'+"\n"+'    font-size: 17px;'+"\n"+'    line-height: 18px;'+"\n"+'}'+"\n"+'.exo-ipp-description {}'+"\n"+'.exo-ipp-close-button {'+"\n"+'    margin-right: 10px;'+"\n"+'    margin-left: auto;'+"\n"+'    align-self: center;'+"\n"+'    -ms-flex-item-align: center;'+"\n"+'    background: black; '+"\n"+'    border-radius: 50%; '+"\n"+'    padding: 6px; '+"\n"+'}'+"\n"+'';var secondNotificationClass='';var exoIppContainerElements=dom.placeholder.getElementsByClassName('exo-ipp-container');for(var i=0;i<exoIppContainerElements.length;i++){if(exoIppContainerElements[i].parentElement.style.display!=='none'){secondNotificationClass=' second-notification';break}}var isMobileDevice=function(){var check=false;(function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check=true})(navigator.userAgent||navigator.vendor||window.opera);return check};var mainContainerClasses=' h-'+horizontalPosition+' v-'+verticalPosition+secondNotificationClass;mainContainerClasses+=(isMobileDevice()?' mobile':'');const image=(adData.optimum_image&&ExoSupport.supported('webp'))?adData.optimum_image:adData.image;var content='<div class="exo-ipp-container'+mainContainerClasses+'">'+"\n"+'                <img class="exo-ipp-image" src="'+image+'" >'+"\n"+'                <div class="exo-ipp-text-container">'+"\n"+'                    <div class="exo-ipp-title">'+adData.title+'</div>'+"\n"+'                    <div class="exo-ipp-description">'+adData.description+'</div>'+"\n"+'                </div>'+"\n"+'                <img class="exo-ipp-close-button" src="'+exoDynamicParams.closeImg+'">'+"\n"+'            </div>';var display=function(){addStyle();var container=dom.doc_reference.createElement("div");container.setAttribute("id",AdLoader.getRandomizedReference("exo-ipp-"+idZone,randomizedRefMap));container.innerHTML=content;container.className=AdLoader.getRandomizedReference('exo-ipp',randomizedRefMap);container.style.display="none";dom.placeholder.appendChild(container);container.onclick=(function(dest){return function(event){AdLoader.openLink(event,dest);close(event,container)}})(adData.url);var closeButton=container.childNodes[0].childNodes[5];closeButton.onclick=function(event){close(event,container)};container.style.removeProperty('display');AdLoader.performImpressionTrackings(adConfiguration);if(notificationDisplayedCount===0){userSessionCappingCookie=userSessionCappingCookie+1;if(cookieconsent){AdLoader.setCookie(userSessionCappingCookiePrefix+idZone,userSessionCappingCookie,userSessionCappingTTL)}}notificationDisplayedCount++;if(notificationDisplayedCount<maxNotificationsOnPage){setTimeout(function(){adData.processNextNotification(notificationDisplayedCount)},delayBetweenNotifications*1000)}};var addStyle=function(){if(notificationDisplayedCount==0){var elStyle=dom.doc_reference.createElement('style');var layout={"horizontalPositionCenterMarginLeft":"-"+(containerWidth/2)+"px;","verticalPositionMiddleMarginTop":"-"+(containerHeight/2)+"px;","secondNotificationVerticalPositionMiddleMarginTop":"-"+(defaultMarginPx+imgHeight+(containerHeight/2))+"px;"};var styleSheetStr=styleSheet;for(var placeholder in layout){if(!layout.hasOwnProperty(placeholder)){continue}var regExTemp=new RegExp('{{'+placeholder+'}}','g');styleSheetStr=styleSheetStr.replace(regExTemp,layout[placeholder])}styleSheetStr=AdLoader.scrambleStyleString(styleSheetStr,randomizedRefMap,/\.(exo-ipp[a-zA-Z\-_]+)/g);elStyle.innerHTML=styleSheetStr;dom.placeholder.appendChild(elStyle)}};var close=function(evt,container){evt.stopPropagation();evt.preventDefault();container.style.display="none";if(cookieconsent){AdLoader.setCookie(zoneClosedCookiePrefix+idZone,true,onceClosedHideForSeconds,"."+dom.doc_reference.location.hostname)}var secondNotificationElements=container.parentElement.getElementsByClassName('second-notification');for(var i=0;i<secondNotificationElements.length;i++){secondNotificationElements[i].classList.remove('second-notification')}};var userSessionCappingCookie=0;var closedStatus=false;if(cookieconsent){userSessionCappingCookie=AdLoader.getCookie(userSessionCappingCookiePrefix+idZone);closedStatus=AdLoader.getCookie(zoneClosedCookiePrefix+idZone)}if(isNaN(userSessionCappingCookie)){userSessionCappingCookie=0}userSessionCappingCookie=parseInt(userSessionCappingCookie);if((userSessionCapping>0&&userSessionCappingCookie>=userSessionCapping)||closedStatus){}else{delay=notificationDisplayedCount!==0?0:delay;window.setTimeout(display,delay*1000)}}}());(function(){try{var AdLoader=ExoLoader;var render=function(exoNbRequestId){if(typeof AdLoader!=='undefined'&&AdLoader!==null){var zonesData=AdLoader.getAdData(exoNbRequestId,'outstream_video');var cookieConsentFromUser=AdLoader.getUserData(exoNbRequestId).cookieconsent;for(var i=0;i<zonesData.zones.length;i++){var ad=zonesData.zones[i];ad.dom.placeholder.innerHTML='';generateOutstreamHtml(ad,cookieConsentFromUser)}}};AdLoader.renderers['outstream_video']=render}catch(err){console.log('Outstream video renderer failed with error: '+err.message)}function generateOutstreamHtml(ad,cookieConsentFromUser){var styleSheet=''+"\n"+'            .{{main_el_class}} {'+"\n"+'                display: block !important;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}_network_link {'+"\n"+'                display: block;'+"\n"+'                color: rgb(255, 255, 255);'+"\n"+'                font-size: 12px;'+"\n"+'                font-family: Roboto, sans-serif, Verdana, Arial;'+"\n"+'                line-height: 20px;'+"\n"+'                padding: 0px 5px;'+"\n"+'                text-decoration: none;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}_effect {'+"\n"+'                -webkit-transition: all 1s ease-in-out;'+"\n"+'                -moz-transition: all 1s ease-in-out;'+"\n"+'                -ms-transition: all 1s ease-in-out;'+"\n"+'                -o-transition: all 1s ease-in-out;'+"\n"+'                transition: all 1s ease-in-out;'+"\n"+'                width: 100%;'+"\n"+'                position: relative;'+"\n"+'                height: 0;'+"\n"+'                max-height: 0;'+"\n"+'                overflow: hidden;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}.exo_wrapper {'+"\n"+'                display: inline-block;'+"\n"+'                position: relative;'+"\n"+'                width: 100%;'+"\n"+'                height: 100%;'+"\n"+'                cursor: pointer;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}_effect.exo_wrapper_show {'+"\n"+'                height: auto;'+"\n"+'                max-height: 1000px;'+"\n"+'            }'+"\n"+'            .{{main_el_class}} video {'+"\n"+'                width: 100%;'+"\n"+'                height: 100%;'+"\n"+'                display: block;'+"\n"+'                margin: 0px auto;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}.ucBrowser {'+"\n"+'                z-index:99999999;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}.ucBrowser .exo_close{'+"\n"+'                padding: 3px;'+"\n"+'                background: none;'+"\n"+'                top: -20px;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}.ucBrowser .exo_link{'+"\n"+'                width: 100%;'+"\n"+'            }'+"\n"+'            .{{main_el_class}} .exo_link {'+"\n"+'                display: block;'+"\n"+'                color: rgb(255, 255, 255);'+"\n"+'                font-size: 12px;'+"\n"+'                font-family: Roboto, sans-serif, Verdana, Arial;'+"\n"+'                position: absolute;'+"\n"+'                left: 0px;'+"\n"+'                top: -20px;'+"\n"+'                height: 20px;'+"\n"+'                line-height: 20px;'+"\n"+'                padding: 0px 5px;'+"\n"+'                background: rgba(0, 0, 0, 0.7);'+"\n"+'                text-decoration: none;'+"\n"+'                z-index: 100;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}_exo_link_box {'+"\n"+'                background: rgba(0, 0, 0, 0.7);'+"\n"+'                display: none; '+"\n"+'                font-size: 12px;'+"\n"+'            }'+"\n"+'            .{{main_el_class}} .exo_close {'+"\n"+'                position: absolute;'+"\n"+'                border-radius: 50%;'+"\n"+'                padding: 5px;'+"\n"+'                user-select: none;'+"\n"+'                color: rgb(255, 255, 255);'+"\n"+'                right: 8px;'+"\n"+'                top: 8px;'+"\n"+'                background: rgba(0, 0, 0, 0.7);'+"\n"+'                cursor: pointer;'+"\n"+'                z-index: 9999;'+"\n"+'                opacity: 0.85;'+"\n"+'            }'+"\n"+'            .{{main_el_class}} .exo_close:hover {'+"\n"+'                opacity: 1;'+"\n"+'            }'+"\n"+'            .{{main_el_class}} .exo_close_show {'+"\n"+'                display: block;'+"\n"+'            }'+"\n"+'            .{{main_el_class}} .exo_close_text{'+"\n"+'                display: none;'+"\n"+'            }'+"\n"+'            .{{main_el_class}} .exo_close svg {'+"\n"+'                height: 24px;'+"\n"+'                width: 24px;'+"\n"+'                fill: #FFFFFF;'+"\n"+'                display: none;'+"\n"+'            }'+"\n"+'            .{{main_el_class}} .progress_exo_wrapper{'+"\n"+'                pointer-events: none;'+"\n"+'                position: relative;'+"\n"+'                width: calc(100% - 30px);'+"\n"+'                height: 3px;'+"\n"+'                left: 15px;'+"\n"+'                bottom: 15px;'+"\n"+'                background: rgba(255, 255, 255, 0.25);'+"\n"+'                z-index: 1;'+"\n"+'            }'+"\n"+'            .{{main_el_class}} .exo_progressbar {'+"\n"+'                pointer-events: none;'+"\n"+'                width: 0%;'+"\n"+'                height: 100%;'+"\n"+'                background: rgba(249, 211, 0, 0.8);'+"\n"+'                transition: width 0.6s linear 0s;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}_replay_button {'+"\n"+'                top: 50%;'+"\n"+'                left: 50%;'+"\n"+'                transform: translate(-50%, -50%);'+"\n"+'                height: 70px;'+"\n"+'                width: 70px;'+"\n"+'                position: absolute;'+"\n"+'                border-radius: 50%;'+"\n"+'                background: rgba(0, 0, 0, 0.7);'+"\n"+'                display: none;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}_mute_button {'+"\n"+'                border-radius: 5px;'+"\n"+'                position: absolute;'+"\n"+'                left: 15px;'+"\n"+'                bottom: 28px;'+"\n"+'                background: rgba(0, 0, 0, 0.7);'+"\n"+'                height: 30px;'+"\n"+'                width: 30px;'+"\n"+'                opacity: 0.85;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}_mute_button:hover {'+"\n"+'                opacity: 1;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}_mute_button svg {'+"\n"+'                position: absolute;'+"\n"+'                top: 50%;'+"\n"+'                left: 50%;'+"\n"+'                transform: translate(-50%, -50%);'+"\n"+'                fill: #FFFFFF;'+"\n"+'                height: 24px;'+"\n"+'                width: 24px;'+"\n"+'                display: none;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}.exo_notransition, .{{main_el_class}} .exo_notransition {'+"\n"+'                -webkit-transition: none !important;'+"\n"+'                -moz-transition: none !important;'+"\n"+'                -o-transition: none !important;'+"\n"+'                transition: none !important;'+"\n"+'            }'+"\n"+'            .{{main_el_class}}_main_outstream {'+"\n"+'                max-width: {{maximum_width}};'+"\n"+'                min-width: 200px;'+"\n"+'            }'+"\n"+'        ';var tplMain=''+"\n"+'            <div class="{{main_el_class}}_main_outstream">'+"\n"+'                {{branding}}'+"\n"+'                <div class="{{main_el_class}}_effect">'+"\n"+'                    <div class="{{main_el_class}} exo_wrapper">'+"\n"+'                        <video class="{{main_el_class}}_video" muted playsinline>'+"\n"+'                            <source class="{{main_el_class}}_source" src="">'+"\n"+'                        </video>'+"\n"+'                        <div class="{{main_el_class}}_close exo_close">'+"\n"+'                            <div class="{{main_el_class}}_close_text exo_close_text"></div>'+"\n"+'                            <svg class="{{main_el_class}}_close_x" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">'+"\n"+'                                <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>'+"\n"+'                                <path d="M0 0h24v24H0z" fill="none"/>'+"\n"+'                            </svg>'+"\n"+'                        </div>'+"\n"+'                        <div class="{{main_el_class}}_replay_button">'+"\n"+'                            <svg style="fill: #FFFFFF;" viewBox="4 4.5 27 27" xmlns="http://www.w3.org/2000/svg">'+"\n"+'                                <path d="M 18,11 V 7 l -5,5 5,5 v -4 c 3.3,0 6,2.7 6,6 0,3.3 -2.7,6 -6,6 -3.3,0 -6,-2.7 -6,-6 h -2 c 0,4.4 3.6,8 8,8 4.4,0 8,-3.6 8,-8 0,-4.4 -3.6,-8 -8,-8 z"/>'+"\n"+'                            </svg>'+"\n"+'                        </div>'+"\n"+'                        <div class="{{main_el_class}}_mute_button">'+"\n"+'                            <svg class="{{main_el_class}}_mute_off" viewBox="0 0 15 19" xmlns="http://www.w3.org/2000/svg">'+"\n"+'                                <path d="m0 5.5924v5.8152h3.7778l4.7222 4.8461v-15.507l-4.7222 4.8461h-3.7778zm12.75 2.9076c0-1.7155-0.9633-3.1887-2.3611-3.9059v7.8021c1.3978-0.7075 2.3611-2.1807 2.3611-3.8962zm-2.3611-8.5v1.9966c2.7294 0.83352 4.7222 3.431 4.7222 6.5034 0 3.0724-1.9928 5.6699-4.7222 6.5034v1.9966c3.7872-0.882 6.6111-4.3518 6.6111-8.5 0-4.1482-2.8239-7.618-6.6111-8.5z"/>'+"\n"+'                            </svg>'+"\n"+'                            <svg class="{{main_el_class}}_mute_on" viewBox="0 0 15 19" xmlns="http://www.w3.org/2000/svg">'+"\n"+'                                <path d="m12.75 8.5c0-1.6717-0.9633-3.1072-2.3611-3.8061v2.0872l2.3139 2.3139c0.0283-0.18889 0.0472-0.38722 0.0472-0.595zm2.3611 0c0 0.88778-0.1889 1.7189-0.51 2.4933l1.4261 1.4261c0.6234-1.1711 0.9728-2.5027 0.9728-3.9194 0-4.0422-2.8239-7.4233-6.6111-8.2828v1.9456c2.7294 0.81222 4.7222 3.3433 4.7222 6.3372zm-13.912-8.5l-1.1994 1.1994 4.4672 4.4672h-4.4672v5.6666h3.7778l4.7222 4.7223v-6.3562l4.0139 4.0139c-0.6328 0.4911-1.3411 0.8784-2.125 1.1145v1.9455c1.3033-0.2927 2.4839-0.8972 3.485-1.7094l1.9267 1.9361 1.1994-1.1994-8.5-8.5-7.3006-7.3006zm7.3006 0.94444l-1.9739 1.9739 1.9739 1.9739v-3.9478z"/>'+"\n"+'                            </svg>'+"\n"+'                        </div>'+"\n"+'                        <div class="progress_exo_wrapper">'+"\n"+'                            <div class="{{main_el_class}}_progress exo_progressbar"></div>'+"\n"+'                        </div>'+"\n"+'                    </div>'+"\n"+'                </div>'+"\n"+'            </div>'+"\n"+'        ';var tplBrand=''+"\n"+'            <div class="{{main_el_class}}_exo_link_box">'+"\n"+'                <a class="{{main_el_class}}_network_link" target="_blank" href=""></a>'+"\n"+'            </div>'+"\n"+'        ';var placeholder=ad.dom.placeholder;var mainElementClass=placeholder.className;var mainElClassWithPrefix="."+mainElementClass;var screenDensity=0;var closeInSeconds=0;var densityWidth=0;var playing=false;var viewCounter=0;var mainDiv=undefined;var progressbar=undefined;var closeX=undefined;var replayButton=undefined;var video=undefined;var wrapper=undefined;var closeText=undefined;var closeForMinutes=isNaN(ad.data.frequencyPeriod)?0:ad.data.frequencyPeriod;var zoneClosedCookieName="zone-closed-"+ad.idzone;var brandingEnabled=(isNaN(ad.data.brandingEnabled)||ad.data.brandingEnabled>0)?1:0;var displayAd=function(){if(cookieConsentFromUser){var hasZoneClosedCookie=AdLoader.getCookie(zoneClosedCookieName);if(hasZoneClosedCookie){return}}var sanatizedMaxWidth=sanitizeMaxWidth();var css=generateCssEl(sanatizedMaxWidth);mainDiv=generateDomEl(brandingEnabled);var videoSource=ad.data.video;videoStyle(css,mainDiv);if(brandingEnabled){var networkLink=placeholder.querySelector(mainElClassWithPrefix+"_network_link");networkLink.innerHTML="Ads by "+exoDynamicParams.network;networkLink.setAttribute("href",'http://'+exoDynamicParams.networkDomain);networkLink.addEventListener('click',function(event){event.stopImmediatePropagation()})}wrapper=placeholder.querySelector(mainElClassWithPrefix+".exo_wrapper");closeText=placeholder.querySelector(mainElClassWithPrefix+"_close_text");video=placeholder.querySelector(mainElClassWithPrefix+"_video");closeX=placeholder.querySelector(mainElClassWithPrefix+"_close_x");progressbar=placeholder.querySelector(mainElClassWithPrefix+"_progress");replayButton=placeholder.querySelector(mainElClassWithPrefix+"_replay_button");var source=placeholder.querySelector(mainElClassWithPrefix+"_source");var muteButton=placeholder.querySelector(mainElClassWithPrefix+"_mute_button");displayVideoOutstream(onPlay,sanatizedMaxWidth);source.setAttribute('src',videoSource);video.muted=true;drawMute();muteButton.addEventListener('click',function(event){event.stopPropagation();video.muted=!video.muted;drawMute()});if(containerHasRoom()){showVideoAd()}};var showVideoAd=function(){registerTrackingEvents(ad.data);visibility(videoVisibility);wrapper.addEventListener('click',function(){if(!bindClick(video)){return}window.open(ad.data.url)});video.addEventListener('ended',function(){playing=false;viewCounter++;replayButton.style.display='block';replayButton.addEventListener('click',replay)},false);initCloseButton();video.addEventListener('timeupdate',function(){scheduleTrackingEvent(ad.data,video.currentTime,video.duration);var width=video.currentTime/video.duration*100;progressbar.style.width=width+'%';if(closeInSeconds>video.currentTime&&viewCounter<1){closeText.innerHTML='Close ad in '+Math.ceil(closeInSeconds-video.currentTime)+' sec';closeX.style.display='none'}else{initCloseButton()}})};var initCloseButton=function(){var closeButton=placeholder.querySelector(mainElClassWithPrefix+"_close");closeText.innerHTML='Close ad';closeX.style.display='block';closeButton.addEventListener('click',function(event){event.stopPropagation();if(cookieConsentFromUser){var hostName="."+document.location.hostname;var closeForSeconds=convertMinuteToSecond(closeForMinutes);AdLoader.setCookie(zoneClosedCookieName,true,closeForSeconds,hostName)}video.pause();playing=false;hide()})};var convertMinuteToSecond=function(minutes){return Math.floor(minutes*60)};var replay=function(event){event.stopPropagation();progressbar.classList.add('exo_notransition');progressbar.style.width='0px';replayButton.removeEventListener('click',replay);replayButton.style.display='none';video.play().then(function(){playing=true;progressbar.classList.remove('exo_notransition')})};var videoVisibility=function(){if(!visibility()&&playing){video.pause();return}if(visibility()&&playing&&video.paused){video.play();return}};var onPlay=function(){playing=true;if(viewCounter>=1){return}setTimeout(function(){wrapper.classList.remove('exo_notransition');mainDiv.style.right=0},100);AdLoader.trackImpression(ad.data.impression,ad.idzone);if(typeof ad.data.tracking['impression']!=='undefined'){for(var i=0;i<ad.data.tracking['impression'].length;i++){if(ad.data.tracking['impression'][i]!==undefined){AdLoader.trackImpression(ad.data.tracking.impression[i]['url'],ad.idzone)}}}if(checkUcBrowser()){fixUcBrowser()}};var drawMute=function(){var muteOn=placeholder.querySelector(mainElClassWithPrefix+"_mute_on");var muteOff=placeholder.querySelector(mainElClassWithPrefix+"_mute_off");if(video.muted){muteOn.style.display="block";muteOff.style.display="none"}else{muteOn.style.display="none";muteOff.style.display="block"}};var hide=function(){wrapper.classList.remove('exo_notransition');closeDivAnnimation(mainDiv);setTimeout(function(){mainDiv.style.display="none"},1000)};var convertTimeToOffset=function(intTime){var epoch=new Date(1970,0,1);epoch.setSeconds(intTime);return epoch.toTimeString().substr(0,8)+".000"};var registerTrackingEvents=function(tmpOptions){tmpOptions.stopTracking=[];for(var eventType in tmpOptions.tracking){if(typeof tmpOptions.tracking[eventType]==='undefined'){tmpOptions.tracking[eventType]=[]}if(typeof tmpOptions.stopTracking[eventType]==='undefined'){tmpOptions.stopTracking[eventType]=[]}for(var index=0;index<tmpOptions.tracking[eventType].length;index++){tmpOptions.stopTracking[eventType][index]=false}}};var scheduleTrackingEvent=function(adItem,currentTime,duration){currentTime=Math.floor(currentTime);if(currentTime===0){trackSingleEvent(adItem,'start')}if(typeof adItem.tracking['progress']!=='undefined'&&adItem.tracking['progress'].length){trackSingleEvent(adItem,'progress',convertTimeToOffset(currentTime))}if(currentTime==(Math.floor(duration/4))){trackSingleEvent(adItem,'firstQuartile')}if(currentTime==(Math.floor(duration/2))){trackSingleEvent(adItem,'midpoint')}if(currentTime==(Math.floor(duration*3/4))){trackSingleEvent(adItem,'thirdQuartile')}if(currentTime>=(duration-1)){trackSingleEvent(adItem,'complete')}};var trackSingleEvent=function(adItem,eventType,currentTime){if(typeof ad.data.tracking[eventType]==="undefined"){return}for(var i=0;i<ad.data.tracking[eventType].length;i++){if(adItem.stopTracking[eventType][i]===false){if(eventType==='progress'&&currentTime!==ad.data.tracking[eventType][i]['offset']){continue}AdLoader.trackImpression(ad.data.tracking[eventType][i]['url'],ad.idzone)}adItem.stopTracking[eventType][i]=true}};var visibility=function(){var stateKey,eventKey,keys={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(stateKey in keys){if(stateKey in document){eventKey=keys[stateKey];break}}return function(callback){if(callback){document.addEventListener(eventKey,callback)}return!document[stateKey]}};var checkUcBrowser=function(){if(navigator.userAgent.indexOf(' UCBrowser/')>=0){return true}return false};var fixUcBrowser=function(){if(!placeholder.querySelector(mainElClassWithPrefix).classList.contains('ucBrowser')){placeholder.querySelector(mainElClassWithPrefix).classList.add('ucBrowser')}};var createElementFromHTML=function(htmlString){var div=document.createElement('div');div.innerHTML=htmlString.trim();return div.firstChild};var replacePlaceholders=function(replacements,str){for(var placeholder in replacements){if(!replacements.hasOwnProperty(placeholder)){continue}var regExTemp=new RegExp('{{'+placeholder+'}}','g');str=str.replace(regExTemp,replacements[placeholder])}return str};var generateCssEl=function(maxWidth){var el=document.createElement("style");var replacements={'main_el_class':mainElementClass,'screen_density':screenDensity,'density_width':densityWidth,'maximum_width':maxWidth};el.innerHTML=replacePlaceholders(replacements,styleSheet);return el};var generateDomEl=function(branding){var replacements={'main_el_class':mainElementClass};replacements['branding']=(branding)?replacePlaceholders(replacements,tplBrand):'';return createElementFromHTML(replacePlaceholders(replacements,tplMain))};var videoStyle=function(css,mainDiv){ad.dom.placeholder.append(css);ad.dom.placeholder.append(mainDiv)};var containerHasRoom=function(){return ad.dom.placeholder.parentNode.offsetWidth>=200&&window.innerWidth>=200};var isIPhoneOrIPad=function(){var userAgent=window.navigator.userAgent||"";return userAgent.match(/iPad/i)||userAgent.match(/iPhone/i)};var bindClick=function(video){return(isIPhoneOrIPad()&&video.currentTime.toFixed(0)>0)||!isIPhoneOrIPad()};var defaultWidth='100%';var sanitizeMaxWidth=function(){var minimumWidth=200;var maximumWidth=1080;var adDataMaxWidth=ad.data.maximumWidth;return(isNaN(adDataMaxWidth)||adDataMaxWidth<minimumWidth||adDataMaxWidth>maximumWidth)?defaultWidth:adDataMaxWidth+'px'};var closeDivAnnimation=function(mainDiv){mainDiv.style.display='none'};var displayVideoOutstream=function(registerPlay,maxWidth){var isFirstViewable=true;var browserTabIsInFocus=true;var externalWrapper=wrapper.parentNode;function scrolledToTheBottom(){return(window.innerHeight+window.scrollY+5)>=document.body.offsetHeight};function hasVerticalRoom(){var externalWrapperWidth=(maxWidth===defaultWidth)?ad.dom.placeholder.offsetWidth:parseInt(maxWidth);var halfHeight=Math.ceil(externalWrapperWidth*video.videoHeight/video.videoWidth/2);var windowHeight=Math.ceil(window.innerHeight||document.documentElement.clientHeight);var wrapperTop=Math.ceil(wrapper.getBoundingClientRect().top);var scrolledHeight=scrolledToTheBottom()?wrapperTop:wrapperTop+halfHeight;return(wrapperTop>0&&scrolledHeight<windowHeight)};function expandExternalWrapper(){var isHidden=!externalWrapper.classList.contains("exo_wrapper_show");if(isHidden&&containerHasRoom()&&hasVerticalRoom()&&browserTabIsInFocus){var scrollTransitionEnable=scrolledToTheBottom();externalWrapper.classList.toggle('exo_wrapper_show');displayBrandingIfEnabled();if(scrollTransitionEnable){var transitionCounter=0;function scrollTransition(){externalWrapper.scrollIntoView(false);if(transitionCounter<50){transitionCounter++;setTimeout(scrollTransition,20)}};setTimeout(scrollTransition,20)}window.removeEventListener('resize',expandExternalWrapper);window.removeEventListener('scroll',expandExternalWrapper);window.removeEventListener('focus',toggleBrowserTabFocus);window.removeEventListener('blur',setBrowserTabUnfocus);document.removeEventListener('visibilitychange',toggleBrowserTabFocus);window.instantiateViewability(video,0.5,0)}};function toggleBrowserTabFocus(){browserTabIsInFocus=!browserTabIsInFocus;if(browserTabIsInFocus){expandExternalWrapper()}};function setBrowserTabUnfocus(){browserTabIsInFocus=false};function displayBrandingIfEnabled(){var brandingWrapper=placeholder.querySelector(mainElClassWithPrefix+"_exo_link_box");if(brandingWrapper){brandingWrapper.style.display='inline-block'}};video.addEventListener('viewable',function(){if(containerHasRoom()&&!video.ended){var playPromise=video.play();if(typeof playPromise==='undefined'||typeof playPromise.then==='undefined'){video.addEventListener("loadedmetadata",function(){if(isFirstViewable){registerPlay();isFirstViewable=false}})}else{playPromise.then(function(){if(isFirstViewable){registerPlay();isFirstViewable=false}}).catch(function(){if(isIPhoneOrIPad()&&isFirstViewable){isFirstViewable=false;video.autoplay=true;video.load();registerPlay();placeholder.querySelector(mainElClassWithPrefix+"_close_x").style.display='block'}})}}});video.addEventListener('not-viewable',function(){video.pause()});window.addEventListener('resize',expandExternalWrapper);window.addEventListener('scroll',expandExternalWrapper);window.addEventListener('focus',toggleBrowserTabFocus);window.addEventListener('blur',setBrowserTabUnfocus);document.addEventListener('visibilitychange',toggleBrowserTabFocus);expandExternalWrapper()};displayAd()}})();(function(){window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(f){return setTimeout(f,1000/60)};window.CustomEvent=window.CustomEvent||function(event,params){params=params||{bubbles:false,cancelable:false,detail:null};var evt=document.createEvent('CustomEvent');evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt};function Viewability(elementSelected,viewabilityRate,viewabilityTimeConstraint,parentInstance){var previouslyViewable=false;var lastVisibilityFocus=true;var isInFocus=true;var self=this;var uuid=Math.random().toString(36).substr(2,6).toUpperCase();var getTimestamp=function(){return(new Date()).getTime()};var parentIsSet=function(){return typeof parentInstance==='object'};var logViewability=function(){if(window.viewabilityDebugMode){var zoneId=typeof elementSelected.src!=='undefined'&&elementSelected.src?(elementSelected.src.match(/[\?&]idzone=(\d+)/)||[])[1]:((elementSelected.id||'').match(/_(\d+)_/)||[])[1];if(typeof zoneId!=='string'&&elementSelected.tagName==='DIV'){try{zoneId=elementSelected.parentNode.nextElementSibling.dataset.zoneid}catch(err){try{zoneId=elementSelected.parentNode.parentNode.nextElementSibling.dataset.zoneid}catch(err){zoneId=err.name}}}console.log((new Date()).toISOString().substr(11,8)+' - '+elementSelected.tagName+' - '+zoneId+' - '+uuid+' - '+(previouslyViewable?'VIEW':'NOT'))}};var isInViewport=function(){if(!self.isInFocus()||(parentIsSet()&&!parentInstance.isViewable())){return false}var rect=elementSelected.getBoundingClientRect();var container=parentIsSet()?window:parent;var windowHeight=container.innerHeight||container.document.documentElement.clientHeight;var windowWidth=container.innerWidth||container.document.documentElement.clientWidth;if(isOutOfViewport(rect,windowWidth,windowHeight)){return false}var rectArea=rect.height*rect.width;var invertedRectBottom=calculateRemainingLength(rect.bottom,windowHeight);var invertedRectRight=calculateRemainingLength(rect.right,windowWidth);var verticalVisibility=calculateVisiblePixels(rect.top,invertedRectBottom,windowHeight);var horizontalVisibility=calculateVisiblePixels(rect.left,invertedRectRight,windowWidth);var isViewable=((verticalVisibility*horizontalVisibility)>=rectArea*viewabilityRate);if(!parentIsSet()||!isViewable){return isViewable}var parentRect=window.frameElement.getBoundingClientRect();var parentWindowHeight=parent.innerHeight||parent.document.documentElement.clientHeight;var parentWindowWidth=parent.innerWidth||parent.document.documentElement.clientWidth;if(isOutOfViewport(parentRect,parentWindowWidth,parentWindowHeight)){return false}var finalVerticalVisibility=calculateVisiblePixels(parentRect.top+rect.top,calculateRemainingLengthWrapped(parentRect.bottom,parentWindowHeight,invertedRectBottom),parentWindowHeight);var finalHorizontalVisibility=calculateVisiblePixels(parentRect.left+rect.left,calculateRemainingLengthWrapped(parentRect.right,parentWindowWidth,invertedRectRight),parentWindowWidth);return((finalVerticalVisibility*finalHorizontalVisibility)>=rectArea*viewabilityRate)};var isOutOfViewport=function(rect,windowWidth,windowHeight){return(rect.top>windowHeight||rect.left>windowWidth||rect.bottom<0||rect.right<0)||(rect.top===0&&rect.left===0&&rect.bottom===0&&rect.right===0)};var calculateRemainingLength=function(length,windowLength){return windowLength>length?windowLength-length:0};var calculateVisiblePixels=function(mainLength,remainingLength,windowLength){var mainLength=mainLength>0?mainLength:0;return windowLength-mainLength-remainingLength};var calculateRemainingLengthWrapped=function(parentLength,windowLengthParent,childRemainingLength){var remainingLength=windowLengthParent-parentLength+childRemainingLength;return remainingLength>0?remainingLength:0};this.viewabilityEvent=function(startTime){if(!isInViewport()){return this.unViewabilityEvent()}if(previouslyViewable){return}if(startTime==null){startTime=getTimestamp()}if(getTimestamp()-startTime<viewabilityTimeConstraint){return window.requestAnimationFrame(function(){return self.viewabilityEvent(startTime)})}previouslyViewable=true;elementSelected.dispatchEvent(new CustomEvent('viewable'));logViewability()};this.unViewabilityEvent=function(){if(previouslyViewable){previouslyViewable=false;elementSelected.dispatchEvent(new CustomEvent('not-viewable'));logViewability()}};this.setInFocus=function(status){isInFocus=!!status};this.isInFocus=function(){return!!isInFocus};this.isViewable=function(){return!!previouslyViewable};if(parentIsSet()){window.addEventListener('scroll',function(){self.viewabilityEvent()});window.addEventListener('focus',function(){self.setInFocus(true);parentInstance.setInFocus(true);self.viewabilityEvent();parentInstance.viewabilityEvent()});window.addEventListener('blur',function(){self.setInFocus(false);window.requestAnimationFrame(function(){self.viewabilityEvent();if(!previouslyViewable){parentInstance.unViewabilityEvent()}})})}else{parent.addEventListener('resize',function(){self.viewabilityEvent()});parent.document.addEventListener('visibilitychange',function(){lastVisibilityFocus=!lastVisibilityFocus;isInFocus=lastVisibilityFocus;self.viewabilityEvent()})}parent.addEventListener('scroll',function(){self.viewabilityEvent()});parent.addEventListener('focus',function(){self.setInFocus(true);if(parentIsSet()){parentInstance.setInFocus(true);parentInstance.viewabilityEvent()}self.viewabilityEvent()});parent.addEventListener('blur',function(){self.setInFocus(false);window.requestAnimationFrame(function(){self.viewabilityEvent()})});if(parentIsSet()){window.frameElement.addEventListener('viewable',function(){self.viewabilityEvent()});window.frameElement.addEventListener('not-viewable',function(){self.viewabilityEvent()});parentInstance.viewabilityEvent()}this.viewabilityEvent()}window.instantiateViewability=function(element,viewabilityRate,viewabilityTimeConstraint){viewabilityRate=(viewabilityRate>0&&viewabilityRate<=1)?parseFloat(viewabilityRate):0.5;viewabilityTimeConstraint=(viewabilityTimeConstraint>=0&&viewabilityTimeConstraint<=5000)?parseInt(viewabilityTimeConstraint):1000;if(window===parent){return new Viewability(element,viewabilityRate,viewabilityTimeConstraint)}try{if(typeof window.ExoIFrameID==='undefined'){window.ExoIFrameID='exo-iframe-'+(new Date()).getTime();parent.ExoViewabilityInstances=parent.ExoViewabilityInstances||{};parent.ExoViewabilityInstances[window.ExoIFrameID]=new Viewability(window.frameElement,0.01,0)}return new Viewability(element,viewabilityRate,viewabilityTimeConstraint,parent.ExoViewabilityInstances[window.ExoIFrameID])}catch(error){if(window.viewabilityDebugMode){console.log('Viewability not supported when using cross-domain iFrame!')}}}})();(function(){window.ExoAdsRefresh=function(selectedElement,refreshRate,callbackObj){var refreshCounter=0;var refreshTrigger=null;var waitRefreshWhenViewable=false;if(typeof window.instantiateViewability!=='function'){console.warn('Viewability library is missing.');return}if(!(refreshRate>0)){return}if('function'!==typeof callbackObj.callback){console.warn('Invalid callback attempted to be set.');return}if('function'!==typeof callbackObj.parameters.pop){callbackObj.parameters=[]}var viewability=window.instantiateViewability(selectedElement,0.5,1000);var onViewable=function(){if(refreshCounter>=10){return}if(waitRefreshWhenViewable){waitRefreshWhenViewable=false;return refreshAd()}else if(refreshTrigger===null){refreshTrigger=setTimeout(refreshAd,refreshRate*1000)}};var refreshAd=function(){if(!viewability.isViewable()){waitRefreshWhenViewable=true;return}try{callbackObj.callback.apply(null,callbackObj.parameters);refreshTrigger=null;refreshCounter++}catch(error){console.log(error,'Failed while calling ad-refresh callback!')}};this.performImpressionReset=function(){viewability.unViewabilityEvent();viewability.viewabilityEvent()};selectedElement.addEventListener('viewable',onViewable)}})()})({"syndication":"syndication.realsrv.com","network":"exoclick","closeImg":"\/\/s3t3d2y7.ackcdn.net\/images\/close-icon.svg","asyncScriptInfoTag":"async|1","tcfEnabled":true})